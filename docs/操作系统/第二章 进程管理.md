![[Pasted image 20230902102819.png]]![[Pasted image 20230902111300.png]]


## 线程
- 引入进程的目的是更好地使多道程序并发执行，提高资源利用率和系统吞吐量。引入线程的目的是为了减小程序在并发执行过程中付出的时空开销，提升并发性能![[Pasted image 20230902111300.png]]
- 在支持多线程的处理机中，线程是CPU调度的基本单位，进程是系统资源分配的基本单位。同一进程的多个线程共享所在进程中的所有资源，同一进程中的多个线程可以并发执行。同一进程的多个线程拥有相同的地址空间
- 线程有就绪、运行和阻塞三种基本状态
- 同一进程的线程之间切换不需要切换到内核态，只需要很少的时空开销
- 每个线程配置一个TCB，包含①线程标识符 ②寄存器：PC、IR、通用 ③线程运行状态（就绪、运行态、阻塞态） ④优先级 ⑤线程专用存储区 ⑥堆栈指针
- 一个线程可以读写或清除另一个线程的堆栈
- 线程的实现方式有用户级线程和内核级线程
- 用户级线程：线程管理在用户空间中完成，可以通过使用线程库设计成多线程程序。线程切换不需要切换到内核空间，实现与操作系统平台无关。缺点：当一个线程执行一个系统调用时

![[Pasted image 20230912103623.png]]

![[Pasted image 20230912103710.png]]

![[Pasted image 20230913142642.png]]

![[Pasted image 20230913144508.png]]